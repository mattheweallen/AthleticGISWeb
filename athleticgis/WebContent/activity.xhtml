<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:ui="http://java.sun.com/jsf/facelets">



<ui:composition template="/template/layout.xhtml">
	<ui:define name="scripts">
		<h:head>
			<title>Activity</title>
			<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
			<style type="text/css">
				#map-canvas {
					height: 300px
				}
			</style>
			<script type="text/javascript"
				src="https://maps.googleapis.com/maps/api/js?key=AIzaSyApDXRNzq6eGqWKUbufj3MzhJ4P0RF0Ghw&amp;sensor=false">
				
			</script>
			<h:outputScript>
				function initialize() {
				  var mapOptions = {
				    zoom: 12,
				    center: #{activityBean.center},
				    mapTypeId: google.maps.MapTypeId.TERRAIN
				  };
				
				  var map = new google.maps.Map(document.getElementById('map-canvas'),
				      mapOptions);
				
				  var activityCoordinates = [
				    #{activityBean.coordinates}
				  ];
				  var activity = new google.maps.Polyline({
				    path: activityCoordinates,
				    geodesic: true,
				    strokeColor: '#FF0000',
				    strokeOpacity: 1.0,
				    strokeWeight: 2
				  });
				  activity.setMap(map);
				}
				google.maps.event.addDomListener(window, 'load', initialize);
			</h:outputScript>
		</h:head>
	</ui:define>
	<ui:define name="content">
		<h:form>
			<h:panelGrid styleClass="mapPanel panelGridCenter">
				<rich:panel>
					<f:facet name="header">
						<h:panelGrid styleClass="panelGridCenter">
							<h:inputText value="#{activityBean.activityName}" size="100"></h:inputText>
							<h:panelGrid columns="3" styleClass="panelGridCenter">
								<h:commandButton value="Update"></h:commandButton>
								<h:commandButton value="Delete"></h:commandButton>
								<h:commandButton value="Return to Dashboard"
									action="dashboard?faces-redirect=true"></h:commandButton>
							</h:panelGrid>
						</h:panelGrid>
					</f:facet>
					<div id="map-canvas" />
				</rich:panel>
			</h:panelGrid>
		</h:form>
	</ui:define>
</ui:composition>
</html>